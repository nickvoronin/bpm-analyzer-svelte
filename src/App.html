<p>Count: {count}</p>
<p>Started at {new Date(startedAt).toLocaleTimeString()}</p>
<p>Last clicked at {new Date(lastClickedAt).toLocaleTimeString()}</p>
<p>Milliseconds since start: {timePassed}</p>
<p>BPM: {bpm}</p>
<button on:click="set({ lastClickedAt: startedAt ? Date.now(): null, count: count + 1, startedAt: startedAt ? startedAt: Date.now() })">TAP</button>

<script>
    export default {
        data() {
            return {
                count: 0,
            }
        },
        computed: {
            timePassed: function ({ lastClickedAt, startedAt }) {
                return lastClickedAt && lastClickedAt ? lastClickedAt - startedAt : 0;
            },
            bpm: function ({ timePassed, count }) {
                if (timePassed) {
                    return ((count - 1) * 1000 * 60) / timePassed
                }
                return 0;
            },
        }
    }
</script>