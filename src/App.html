<p>Count: {count}</p>
<p>BPM: {round(bpm, 2)}</p>
<button on:click="set({ lastClickedAt: startedAt ? Date.now(): null, count: count + 1, startedAt: startedAt ? startedAt: Date.now() })">TAP</button>

<script>
    import { round } from 'lodash'
    export default {
        helpers: {
            round,
        },
        data() {
            return {
                count: 0,
            }
        },
        computed: {
            timePassed: function ({ lastClickedAt, startedAt }) {
                return lastClickedAt && lastClickedAt ? lastClickedAt - startedAt : 0;
            },
            bpm: function ({ timePassed, count }) {
                if (timePassed) {
                    return ((count - 1) * 1000 * 60) / timePassed
                }
                return 0;
            },
        }
    }
</script>